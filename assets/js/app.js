(()=>{var{render:W,useState:i,useEffect:A,Fragment:B,useCallback:f}=wp.element,_=wp.apiFetch,v=o=>{if(typeof o!="string")return o;let h=document.createElement("textarea");return h.innerHTML=o,h.value},H=({initialLevels:o,refetchData:h,levelCptSlug:y})=>{let[$,D]=i(o),[m,a]=i(null),[d,g]=i(!1),[S,N]=i(!1),[t,b]=i("");A(()=>{D(o)},[o]);let u=f(l=>{a(l),g(!1)},[]),T=f(()=>{g(!0),a({title:{rendered:""},meta:{sort_order:""}})},[]),L=f((l,c)=>{a(x=>({...x,title:l==="title"?{...x.title,rendered:c}:x.title,meta:l==="sort_order"?{...x.meta,sort_order:c}:x.meta}))},[]),k=f(()=>{if(!m)return;N(!0);let l=d?"POST":"PUT",c=d?`/wp/v2/${y}`:`/wp/v2/${y}/${m.id}`,x={title:m.title.rendered,meta:{sort_order:m.meta.sort_order?parseInt(m.meta.sort_order,10):0},status:"publish"};_({path:c,method:l,data:x}).then(()=>{b(`Level ${d?"created":"updated"} successfully!`),N(!1),g(!1),a(null),h(),setTimeout(()=>b(""),3e3)}).catch(s=>{alert("Error saving level."),N(!1)})},[m,d,y,h]),E=f(l=>{window.confirm("Are you sure you want to delete this level? This cannot be undone.")&&(N(!0),_({path:`/wp/v2/${y}/${l}`,method:"DELETE"}).then(()=>{b("Level deleted successfully!"),N(!1),a(null),h(),setTimeout(()=>b(""),3e3)}).catch(c=>{alert("Error deleting level."),N(!1)}))},[y,h]);return wp.element.createElement("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6"},wp.element.createElement("div",{className:"md:col-span-1 bg-white p-4 rounded-xl border border-slate-200 shadow-lg h-min"},wp.element.createElement("div",{className:"flex justify-between items-center mb-4 border-b pb-2"},wp.element.createElement("h2",{className:"text-xl font-bold text-slate-900"},"All Levels"),wp.element.createElement("button",{onClick:T,className:"px-3 py-1 text-sm font-semibold text-white bg-indigo-600 rounded-lg shadow-sm hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500"},"+ New")),wp.element.createElement("ul",{className:"space-y-2"},$.slice().sort((l,c)=>l.meta.sort_order-c.meta.sort_order).map(l=>wp.element.createElement("li",{key:l.id},wp.element.createElement("button",{onClick:()=>u(l),className:`w-full text-left p-3 rounded-lg transition-all duration-150 ${m&&m.id===l.id?"bg-indigo-50 border-indigo-400":"bg-slate-50 hover:bg-slate-100 border-slate-200"} border`},wp.element.createElement("span",{className:"font-semibold text-slate-800"},v(l.title.rendered)),wp.element.createElement("span",{className:"text-sm text-slate-500 ml-2"},"(Order: ",l.meta.sort_order,")")))))),wp.element.createElement("div",{className:"md:col-span-2"},(m||d)&&wp.element.createElement("div",{className:"p-8 bg-white border border-slate-200 rounded-xl shadow-lg"},wp.element.createElement("h2",{className:"text-2xl font-bold text-slate-900 mb-6 border-b pb-3"},d?"Create New Level":`Editing: ${v(m.title.rendered)}`),wp.element.createElement("div",{className:"space-y-6"},wp.element.createElement("div",null,wp.element.createElement("label",{htmlFor:"level-title",className:"block text-sm font-medium text-slate-700"},"Level Name"),wp.element.createElement("input",{type:"text",id:"level-title",value:v(m.title.rendered),onChange:l=>L("title",l.target.value),className:"mt-1 block w-full px-3 py-2 bg-white border border-slate-300 rounded-md shadow-sm focus:outline-none focus:ring-1 focus:ring-indigo-500"})),wp.element.createElement("div",null,wp.element.createElement("label",{htmlFor:"level-sort-order",className:"block text-sm font-medium text-slate-700"},"Sort Order"),wp.element.createElement("input",{type:"number",id:"level-sort-order",value:m.meta.sort_order,onChange:l=>L("sort_order",l.target.value),className:"mt-1 block w-full px-3 py-2 bg-white border border-slate-300 rounded-md shadow-sm focus:outline-none focus:ring-1 focus:ring-indigo-500"}))),wp.element.createElement("div",{className:"mt-8 flex justify-between items-center gap-4"},wp.element.createElement("div",{className:"flex items-center gap-4"},wp.element.createElement("button",{onClick:k,disabled:S,className:"inline-flex justify-center py-2 px-5 border border-transparent shadow-md text-sm font-semibold rounded-lg text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50"},S?"Saving...":d?"Create Level":"Save Changes"),t&&wp.element.createElement("p",{className:"text-green-600 font-semibold transition-opacity duration-300"},t)),!d&&m&&wp.element.createElement("button",{onClick:()=>E(m.id),disabled:S,className:"text-sm font-semibold text-red-600 hover:text-red-800 disabled:opacity-50"},"Delete Level")))))},K=({initialSkills:o,levels:h,refetchData:y,skillCptSlug:$})=>{let[D,m]=i(o),[a,d]=i(null),[g,S]=i(!1),[N,t]=i(!1),[b,u]=i("");A(()=>{m(o)},[o]);let T=f(s=>{d(s),S(!1)},[]),L=f(()=>{S(!0),d({title:{rendered:""},meta:{sort_order:"",level_associated:""}})},[]),k=f((s,n)=>{d(r=>({...r,title:s==="title"?{...r.title,rendered:n}:r.title,meta:s==="sort_order"||s==="level_associated"?{...r.meta,[s]:n}:r.meta}))},[]),E=f(()=>{if(!a)return;t(!0);let s=g?"POST":"PUT",n=g?`/wp/v2/${$}`:`/wp/v2/${$}/${a.id}`,r={title:a.title.rendered,meta:{sort_order:a.meta.sort_order?parseInt(a.meta.sort_order,10):0,level_associated:a.meta.level_associated?parseInt(a.meta.level_associated,10):null},status:"publish"};_({path:n,method:s,data:r}).then(()=>{u(`Skill ${g?"created":"updated"} successfully!`),t(!1),S(!1),d(null),y(),setTimeout(()=>u(""),3e3)}).catch(I=>{alert("Error saving skill."),t(!1)})},[a,g,$,y]),l=f(s=>{window.confirm("Are you sure you want to delete this skill? This cannot be undone.")&&(t(!0),_({path:`/wp/v2/${$}/${s}`,method:"DELETE"}).then(()=>{u("Skill deleted successfully!"),t(!1),d(null),y(),setTimeout(()=>u(""),3e3)}).catch(n=>{alert("Error deleting skill."),t(!1)}))},[$,y]),c=D.reduce((s,n)=>{let r=n.meta.level_associated||"uncategorized";return s[r]||(s[r]=[]),s[r].push(n),s},{}),x=h.slice().sort((s,n)=>s.meta.sort_order-n.meta.sort_order);return wp.element.createElement("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6"},wp.element.createElement("div",{className:"md:col-span-1 bg-white p-4 rounded-xl border border-slate-200 shadow-lg h-min"},wp.element.createElement("div",{className:"flex justify-between items-center mb-4 border-b pb-2"},wp.element.createElement("h2",{className:"text-xl font-bold text-slate-900"},"All Skills"),wp.element.createElement("button",{onClick:L,className:"px-3 py-1 text-sm font-semibold text-white bg-indigo-600 rounded-lg shadow-sm hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500"},"+ New")),wp.element.createElement("div",{className:"space-y-4"},x.map(s=>c[s.id]&&c[s.id].length>0&&wp.element.createElement("div",{key:s.id},wp.element.createElement("h3",{className:"text-lg font-semibold text-slate-700 mb-2"},s.title.rendered),wp.element.createElement("ul",{className:"space-y-2 pl-2 border-l-2 border-slate-200"},c[s.id].sort((n,r)=>n.meta.sort_order-r.meta.sort_order).map(n=>wp.element.createElement("li",{key:n.id},wp.element.createElement("button",{onClick:()=>T(n),className:`w-full text-left p-2 rounded-lg transition-all duration-150 ${a&&a.id===n.id?"bg-indigo-50 border-indigo-400":"bg-slate-50 hover:bg-slate-100 border-slate-200"} border`},wp.element.createElement("span",{className:"font-medium text-slate-800"},v(n.title.rendered)))))))),c.uncategorized&&c.uncategorized.length>0&&wp.element.createElement("div",null,wp.element.createElement("h3",{className:"text-lg font-semibold text-slate-700 mb-2 italic"},"Uncategorized"),wp.element.createElement("ul",{className:"space-y-2 pl-2 border-l-2 border-slate-200"},c.uncategorized.sort((s,n)=>s.meta.sort_order-n.meta.sort_order).map(s=>wp.element.createElement("li",{key:s.id},wp.element.createElement("button",{onClick:()=>T(s),className:`w-full text-left p-2 rounded-lg transition-all duration-150 ${a&&a.id===s.id?"bg-indigo-50 border-indigo-400":"bg-slate-50 hover:bg-slate-100 border-slate-200"} border`},wp.element.createElement("span",{className:"font-medium text-slate-800"},v(s.title.rendered))))))))),wp.element.createElement("div",{className:"md:col-span-2"},(a||g)&&wp.element.createElement("div",{className:"p-8 bg-white border border-slate-200 rounded-xl shadow-lg"},wp.element.createElement("h2",{className:"text-2xl font-bold text-slate-900 mb-6 border-b pb-3"},g?"Create New Skill":`Editing: ${v(a.title.rendered)}`),wp.element.createElement("div",{className:"space-y-6"},wp.element.createElement("div",null,wp.element.createElement("label",{htmlFor:"skill-title",className:"block text-sm font-medium text-slate-700"},"Skill Name"),wp.element.createElement("input",{type:"text",id:"skill-title",value:v(a.title.rendered),onChange:s=>k("title",s.target.value),className:"mt-1 block w-full px-3 py-2 bg-white border border-slate-300 rounded-md shadow-sm focus:outline-none focus:ring-1 focus:ring-indigo-500"})),wp.element.createElement("div",null,wp.element.createElement("label",{htmlFor:"skill-level",className:"block text-sm font-medium text-slate-700"},"Associated Level"),wp.element.createElement("select",{id:"skill-level",value:a.meta.level_associated,onChange:s=>k("level_associated",s.target.value),className:"mt-1 block w-full px-3 py-2 bg-white border border-slate-300 rounded-md shadow-sm focus:outline-none focus:ring-1 focus:ring-indigo-500"},wp.element.createElement("option",{value:""},"-- Select a Level --"),x.map(s=>wp.element.createElement("option",{key:s.id,value:s.id},v(s.title.rendered))))),wp.element.createElement("div",null,wp.element.createElement("label",{htmlFor:"skill-sort-order",className:"block text-sm font-medium text-slate-700"},"Sort Order"),wp.element.createElement("input",{type:"number",id:"skill-sort-order",value:a.meta.sort_order,onChange:s=>k("sort_order",s.target.value),className:"mt-1 block w-full px-3 py-2 bg-white border border-slate-300 rounded-md shadow-sm focus:outline-none focus:ring-1 focus:ring-indigo-500"}))),wp.element.createElement("div",{className:"mt-8 flex justify-between items-center gap-4"},wp.element.createElement("div",{className:"flex items-center gap-4"},wp.element.createElement("button",{onClick:E,disabled:N,className:"inline-flex justify-center py-2 px-5 border border-transparent shadow-md text-sm font-semibold rounded-lg text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50"},N?"Saving...":g?"Create Skill":"Save Changes"),b&&wp.element.createElement("p",{className:"text-green-600 font-semibold transition-opacity duration-300"},b)),!g&&a&&wp.element.createElement("button",{onClick:()=>l(a.id),disabled:N,className:"text-sm font-semibold text-red-600 hover:text-red-800 disabled:opacity-50"},"Delete Skill")))))},R=({initialGroups:o,levels:h,users:y,swimmers:$,camps:D,animals:m,refetchData:a,groupCptSlug:d})=>{let g=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],[S,N]=i(o),[t,b]=i(null),[u,T]=i(!1),[L,k]=i(!1),[E,l]=i(""),[c,x]=i("");A(()=>{if(N(o),t&&t.id&&o!==S){let e=o.find(p=>p.id===t.id);b(e||null)}},[o]);let s=f(e=>{b(e),T(!1)},[]),n=f(()=>{T(!0),b({title:"",level:null,days:[],group_time:"",instructor:[],swimmers:[],lesson_type:"",dates_offered:[],archived:!1,year:new Date().getFullYear(),"lm-camp":[],"lm-animal":[]})},[]),r=f((e,p)=>{b(M=>({...M,[e]:p}))},[]),I=(e,p)=>{let M=Array.from(p,C=>C.value);r(e,M)},w=f(()=>{if(!t)return;k(!0);let e="POST",p=u?`/wp/v2/${d}`:`/${LMData.namespace}/groups/${t.id}`,M={title:t.title,status:"publish",meta:{level:t.meta.level?parseInt(t.meta.level.id,10):null,days:t.meta.days||[],group_time:t.meta.group_time,instructor:(t.meta.instructor||[]).map(C=>parseInt(C,10)),swimmers:(t.meta.swimmers||[]).map(C=>parseInt(C,10)),lesson_type:t.meta.lesson_type,dates_offered:t.meta.dates_offered||[],archived:t.meta.archived,year:t.meta.year?parseInt(t.meta.year,10):null},"lm-camp":(t["lm-camp"]||[]).map(C=>parseInt(C,10)),"lm-animal":(t["lm-animal"]||[]).map(C=>parseInt(C,10))};_({path:p,method:e,data:M}).then(()=>{l(`Group ${u?"created":"updated"} successfully!`),k(!1),u&&(T(!1),b(null)),a(),setTimeout(()=>l(""),3e3)}).catch(C=>{console.error("Error saving group:",C),alert("Error saving group. Check the console for details."),k(!1)})},[t,u,d,a]),F=f(e=>{window.confirm("Are you sure you want to delete this group? This cannot be undone.")&&(k(!0),_({path:`/wp/v2/${d}/${e}`,method:"DELETE"}).then(()=>{l("Group deleted successfully!"),k(!1),b(null),a(),setTimeout(()=>l(""),3e3)}).catch(p=>{console.error("Error deleting group:",p),alert("Error deleting group. Check the console for details."),k(!1)}))},[d,a]);return wp.element.createElement("div",{className:"grid grid-cols-1 md:grid-cols-1 lg:grid-cols-4 xl:grid-cols-5 gap-6"},wp.element.createElement("div",{className:"lg:col-span-1 xl:col-span-1 bg-white p-4 rounded-xl border border-slate-200 shadow-lg h-min"},wp.element.createElement("div",{className:"flex justify-between items-center mb-4 border-b pb-2"},wp.element.createElement("h2",{className:"text-xl font-bold text-slate-900"},"All Groups"),wp.element.createElement("button",{onClick:n,className:"px-3 py-1 text-sm font-semibold text-white bg-indigo-600 rounded-lg shadow-sm hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500"},"+ New")),wp.element.createElement("div",{className:"mb-4"},wp.element.createElement("input",{type:"text",placeholder:"Search groups...",value:c,onChange:e=>x(e.target.value),className:"w-full px-3 py-2 bg-white border border-slate-300 rounded-md shadow-sm focus:outline-none focus:ring-1 focus:ring-indigo-500"})),wp.element.createElement("ul",{className:"space-y-3"},S.filter(e=>e.title.toLowerCase().includes(c.toLowerCase())).map(e=>wp.element.createElement("li",{key:e.id},wp.element.createElement("button",{onClick:()=>s(e),className:`w-full text-left p-3 rounded-xl transition-all duration-150 ${t&&t.id===e.id?"bg-indigo-50 border-indigo-400 border shadow-md":"bg-white hover:bg-slate-100/70 border border-slate-200 shadow-sm"}`},wp.element.createElement("h3",{className:"font-bold text-slate-800"},v(e.title)),e.meta.level&&wp.element.createElement("p",{className:"text-sm text-slate-600"},"Level: ",v(e.meta.level.title))))))),wp.element.createElement("div",{className:"md:col-span-2 lg:col-span-3 xl:col-span-4"},(t||u)&&wp.element.createElement("div",{className:"p-8 bg-white border border-slate-200 rounded-xl shadow-lg",key:t?t.id:"new"},wp.element.createElement("div",{className:"flex flex-wrap justify-between items-center mb-6 border-b pb-3 gap-4"},wp.element.createElement("h2",{className:"text-2xl font-bold text-slate-900"},u?"Create New Group":`Details for: ${v(t.title)}`),wp.element.createElement("button",{onClick:w,disabled:L,className:"inline-flex justify-center py-2 px-5 border border-transparent shadow-md text-sm font-semibold rounded-lg text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50"},L?"Saving...":u?"Create Group":"Save Changes")),wp.element.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6"},wp.element.createElement("div",{className:"md:col-span-2"},wp.element.createElement("label",{htmlFor:"group-title",className:"block text-sm font-medium text-slate-700"},"Group Name"),wp.element.createElement("input",{id:"group-title",type:"text",placeholder:"Group Name",value:t.title,onChange:e=>r("title",e.target.value),className:"mt-1 block w-full px-3 py-2 bg-white border border-slate-300 rounded-md shadow-sm focus:outline-none focus:ring-1 focus:ring-indigo-500"})),wp.element.createElement("div",null,wp.element.createElement("label",{htmlFor:"group-time",className:"block text-sm font-medium text-slate-700"},"Time"),wp.element.createElement("input",{id:"group-time",type:"time",value:t.meta.group_time||"",onChange:e=>r("meta",{...t.meta,group_time:e.target.value}),className:"mt-1 block w-full px-3 py-2 bg-white border border-slate-300 rounded-md shadow-sm focus:outline-none focus:ring-1 focus:ring-indigo-500"})),wp.element.createElement("div",null,wp.element.createElement("label",{htmlFor:"group-year",className:"block text-sm font-medium text-slate-700"},"Year"),wp.element.createElement("input",{id:"group-year",type:"number",placeholder:"Year",value:t.meta.year||"",onChange:e=>r("meta",{...t.meta,year:e.target.value}),className:"mt-1 block w-full px-3 py-2 bg-white border border-slate-300 rounded-md shadow-sm focus:outline-none focus:ring-1 focus:ring-indigo-500"})),wp.element.createElement("div",null,wp.element.createElement("label",{htmlFor:"group-lesson-type",className:"block text-sm font-medium text-slate-700"},"Lesson Type"),wp.element.createElement("input",{id:"group-lesson-type",type:"text",placeholder:"Lesson Type",value:t.meta.lesson_type||"",onChange:e=>r("meta",{...t.meta,lesson_type:e.target.value}),className:"mt-1 block w-full px-3 py-2 bg-white border border-slate-300 rounded-md shadow-sm focus:outline-none focus:ring-1 focus:ring-indigo-500"})),wp.element.createElement("div",null,wp.element.createElement("label",{htmlFor:"group-level",className:"block text-sm font-medium text-slate-700"},"Level"),wp.element.createElement("select",{id:"group-level",value:t.meta.level?t.meta.level.id:"",onChange:e=>r("meta",{...t.meta,level:{id:e.target.value,title:e.target.options[e.target.selectedIndex].text}}),className:"mt-1 block w-full px-3 py-2 bg-white border border-slate-300 rounded-md shadow-sm focus:outline-none focus:ring-1 focus:ring-indigo-500"},wp.element.createElement("option",{value:""},"-- Select Level --"),h.map(e=>wp.element.createElement("option",{key:e.id,value:e.id},v(e.title.rendered))))),wp.element.createElement("div",{className:"md:col-span-2"},wp.element.createElement("label",{htmlFor:"group-dates",className:"block text-sm font-medium text-slate-700"},"Dates Offered"),wp.element.createElement("textarea",{id:"group-dates",placeholder:"One date per line (e.g., YYYY-MM-DD)",value:(t.meta.dates_offered||[]).join(`
`),onChange:e=>r("meta",{...t.meta,dates_offered:e.target.value.split(`
`)}),className:"mt-1 block w-full px-3 py-2 bg-white border border-slate-300 rounded-md shadow-sm focus:outline-none focus:ring-1 focus:ring-indigo-500"})),wp.element.createElement("div",{className:"md:col-span-2"},wp.element.createElement("label",{className:"block text-sm font-medium text-slate-700 mb-2"},"Days of the Week"),wp.element.createElement("div",{className:"flex flex-wrap gap-x-6 gap-y-2"},g.map(e=>wp.element.createElement("label",{key:e,className:"flex items-center gap-2 text-sm"},wp.element.createElement("input",{type:"checkbox",className:"h-4 w-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-500",checked:(t.meta.days||[]).includes(e),onChange:p=>{let M=p.target.checked?[...t.meta.days,e]:t.meta.days.filter(C=>C!==e);r("meta",{...t.meta,days:M})}})," ",e)))),wp.element.createElement("div",{className:"md:col-span-2"},wp.element.createElement("label",{className:"block text-sm font-medium text-slate-700"},"Instructors"),wp.element.createElement("select",{multiple:!0,value:t.meta.instructor||[],onChange:e=>{let p=Array.from(e.target.selectedOptions,M=>M.value);r("meta",{...t.meta,instructor:p})},className:"mt-1 block w-full h-32 px-3 py-2 bg-white border border-slate-300 rounded-md shadow-sm focus:outline-none focus:ring-1 focus:ring-indigo-500"},y.map(e=>wp.element.createElement("option",{key:e.id,value:e.id},v(e.name))))),wp.element.createElement("div",{className:"md:col-span-2"},wp.element.createElement("label",{className:"block text-sm font-medium text-slate-700"},"Camps"),wp.element.createElement("select",{multiple:!0,value:t["lm-camp"]||[],onChange:e=>I("lm-camp",e.target.selectedOptions),className:"mt-1 block w-full h-32 px-3 py-2 bg-white border border-slate-300 rounded-md shadow-sm focus:outline-none focus:ring-1 focus:ring-indigo-500"},D.map(e=>wp.element.createElement("option",{key:e.id,value:e.id},v(e.name))))),wp.element.createElement("div",{className:"md:col-span-2"},wp.element.createElement("label",{className:"block text-sm font-medium text-slate-700"},"Animals"),wp.element.createElement("select",{multiple:!0,value:t["lm-animal"]||[],onChange:e=>I("lm-animal",e.target.selectedOptions),className:"mt-1 block w-full h-32 px-3 py-2 bg-white border border-slate-300 rounded-md shadow-sm focus:outline-none focus:ring-1 focus:ring-indigo-500"},m.map(e=>wp.element.createElement("option",{key:e.id,value:e.id},v(e.name))))),wp.element.createElement("div",{className:"md:col-span-2"},wp.element.createElement("label",{className:"block text-sm font-medium text-slate-700"},"Swimmers"),wp.element.createElement("select",{multiple:!0,value:t.meta.swimmers||[],onChange:e=>{let p=Array.from(e.target.selectedOptions,M=>M.value);r("meta",{...t.meta,swimmers:p})},className:"mt-1 block w-full h-48 px-3 py-2 bg-white border border-slate-300 rounded-md shadow-sm focus:outline-none focus:ring-1 focus:ring-indigo-500"},$.map(e=>wp.element.createElement("option",{key:e.id,value:e.id},v(e.title.rendered))))),wp.element.createElement("div",{className:"md:col-span-2"},wp.element.createElement("label",{className:"flex items-center gap-2"},wp.element.createElement("input",{type:"checkbox",className:"h-4 w-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-500",checked:t.meta.archived,onChange:e=>r("meta",{...t.meta,archived:e.target.checked})})," Archived"))),wp.element.createElement("div",{className:"mt-8 flex justify-between items-center gap-4"},!u&&t&&wp.element.createElement("button",{onClick:()=>F(t.id),disabled:L,className:"text-sm font-semibold text-red-600 hover:text-red-800 disabled:opacity-50"},"Delete Group"),wp.element.createElement("div",{className:"flex items-center gap-4 ml-auto"},E&&wp.element.createElement("p",{className:"text-green-600 font-semibold"},E),wp.element.createElement("button",{onClick:w,disabled:L,className:"inline-flex justify-center py-2 px-5 border border-transparent shadow-md text-sm font-semibold rounded-lg text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50"},L?"Saving...":u?"Create Group":"Save Changes"))))))},q=()=>{let[o,h]=i("groups"),[y,$]=i([]),[D,m]=i([]),[a,d]=i([]),[g,S]=i([]),[N,t]=i([]),[b,u]=i([]),[T,L]=i([]),[k,E]=i(0),[l,c]=i(!0),[x,s]=i(!1),n=f(()=>E(w=>w+1),[]);A(()=>{c(!0);let w=LMData.post_types.group,F=LMData.post_types&&LMData.post_types.level?LMData.post_types.level:"lm_level",e=LMData.post_types&&LMData.post_types.skill?LMData.post_types.skill:"lm_skill",p=LMData.post_types.swimmer;Promise.all([_({path:`/${LMData.namespace}/groups`}),_({path:`/wp/v2/${F}?per_page=100`}),_({path:`/wp/v2/${e}?per_page=100`}),_({path:"/wp/v2/users?per_page=100&roles=editor,administrator,author"}),_({path:`/wp/v2/${p}?per_page=100`}),_({path:"/wp/v2/lm-camp?per_page=100"}),_({path:"/wp/v2/lm-animal?per_page=100"})]).then(([G,O,j,z,Y,P,U])=>{$(G),m(O),d(j),S(z),t(Y),u(P),L(U),c(!1)}).catch(G=>{console.error("Error fetching initial data:",G),c(!1)})},[k]);let r=[{id:"groups",label:"Groups"},{id:"swimmers",label:"Swimmers"},{id:"evaluations",label:"Evaluations"}],I={groups:"bg-indigo-600/10 text-indigo-700 border-indigo-600",swimmers:"bg-green-600/10 text-green-700 border-green-600",evaluations:"bg-violet-600/10 text-violet-700 border-violet-600",default:"bg-slate-600/10 text-slate-700 border-slate-600"};return wp.element.createElement(B,null,wp.element.createElement("h1",{className:"text-3xl font-extrabold text-slate-800 mb-6"},"Lesson Management"),wp.element.createElement("div",{className:"flex justify-between items-center border-b-2 border-slate-200 mb-8 bg-white/70 backdrop-blur-sm sticky top-0 z-10 rounded-t-lg shadow-sm p-2"},wp.element.createElement("nav",{className:"flex space-x-2 lg:space-x-4","aria-label":"Tabs"},r.map(w=>wp.element.createElement("a",{key:w.id,href:"#",onClick:F=>{F.preventDefault(),h(w.id)},className:`
                                    ${o===w.id?`${I[w.id]||I.default} shadow-sm`:"border-transparent text-slate-600 hover:bg-slate-100 hover:text-slate-800"}
                                    whitespace-nowrap px-4 py-2 font-semibold text-sm rounded-lg transition-all duration-200 border-b-2
                                `},w.label))),wp.element.createElement("div",{className:"relative"},wp.element.createElement("button",{onClick:()=>s(!x),className:"p-2 rounded-full hover:bg-slate-200 focus:outline-none focus:ring-2 focus:ring-indigo-500"},wp.element.createElement("svg",{className:"w-6 h-6 text-slate-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},wp.element.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 5v.01M12 12v.01M12 19v.01M12 6a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2z"}))),x&&wp.element.createElement("div",{className:"origin-top-right absolute right-0 mt-2 w-48 rounded-md shadow-lg bg-white ring-1 ring-black ring-opacity-5 focus:outline-none"},wp.element.createElement("div",{className:"py-1",role:"menu","aria-orientation":"vertical"},wp.element.createElement("a",{href:"#",onClick:w=>{w.preventDefault(),h("levels"),s(!1)},className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",role:"menuitem"},"Levels"),wp.element.createElement("a",{href:"#",onClick:w=>{w.preventDefault(),h("skills"),s(!1)},className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",role:"menuitem"},"Skills"))))),wp.element.createElement("div",{className:"mt-4"},o==="groups"&&(l?wp.element.createElement("p",{className:"text-slate-500 p-4"},"Loading..."):wp.element.createElement(R,{initialGroups:y,levels:D,users:g,swimmers:N,camps:b,animals:T,refetchData:n,groupCptSlug:LMData.post_types.group})),o==="swimmers"&&wp.element.createElement("div",{className:"p-8 bg-white border border-green-200 rounded-xl shadow-lg"},wp.element.createElement("p",{className:"text-slate-500 text-lg"},"Swimmers List/Details container will be developed here.")),o==="evaluations"&&wp.element.createElement("div",{className:"p-8 bg-white border border-violet-200 rounded-xl shadow-lg"},wp.element.createElement("p",{className:"text-slate-500 text-lg"},"Evaluations List/Details container will be developed here.")),o==="levels"&&wp.element.createElement(H,{initialLevels:D,refetchData:n,levelCptSlug:LMData.post_types.level}),o==="skills"&&wp.element.createElement(K,{initialSkills:a,levels:D,refetchData:n,skillCptSlug:LMData.post_types.skill})))};document.addEventListener("DOMContentLoaded",()=>{let o=document.getElementById("lm-admin-app");o&&W(wp.element.createElement(q,null),o)});})();
